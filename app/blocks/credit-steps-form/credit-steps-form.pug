include ../form/form
include ../select/select
include ../lbl/lbl
include ../btn/btn
include ../input/input
include ../checkbox/checkbox
include ../noUiSlider/noUiSlider

mixin credit-steps-form(step)
  +b.credit-steps-wrapper&attributes(attributes)
    +e.deco
    +e.title Заявка на подбор кредита
    +form(name="credit-step-form" action="" method="post").credit-steps-form
      +e.row
        +e.item._tb_6
          +e.range.credit-calc__range
            +e.range-field
              +lbl(for="credit-sum") Сумма кредита:
              +input(type="text" id="credit-sum" value="50 000" placeholder="Сумма кредита")
              +noUiSlider(data-range="100000,300000,1000000,3000000" data-step="10000" data-values="0,33.33,66.66,100" data-target='credit-sum' data-format='currency')

        +e.item._tb_6
          +e.range.credit-calc__range
            +e.range-field
              +lbl(for="credit-period") Срок кредита:
              +select(id="credit-period" name="brand" data-placeholder="Срок кредита" tabindex="1")._simple
                option(value="")
                option(value="1") 1 год
                option(value="2") 2 года
                option(value="4") 4 года
                option(value="5") 5 лет
              +noUiSlider(data-range="1,2,4,5" data-step="1" data-values="0,33.33,66.66,100" data-format='date')

      if (step === 2)
        +e.caption Личные данные
        +e.row
          +e.item._tb_6
            +e.input-field
              +lbl(for="credit-name") Имя:
              +input(type="text" id="credit-name")

          +e.item._tb_6
            +e.input-field
              +lbl(for="credit-sername") Фамилия:
              +input(type="text" id="credit-sername")
        +e.row
          +e.item._tb_6
            +e.input-field
              +lbl(for="credit-email") E-mail:
              +input(type="text" id="credit-email")

          +e.item._tb_6
            +e.input-field
              +lbl(for="credit-phone") Номер телефона:
              +input(type="text" id="credit-phone").js-phone-field__control

      +e.row._footer
        if (step > 1)
          +e.item._tb_6
            +checkbox(name="accept_rules" id="accept_rules") Я принимаю условия передачи информации

        +e.item._tb_4
          +btn('link', '')(href=`credit-step-${step + 1}.html`)._size_lg._theme_secondary Далее
